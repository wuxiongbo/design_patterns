# Replace Magic Number with Symbolic Constant （以字⾯常量取代魔法数）


你有⼀个字⾯数值，带有特别含义。


创造⼀个常量，根据其意义为它命名，并将上述的字⾯数值替换为这个常量。
替换前：
```java
double potentialEnergy(double mass, double height) {
    return mass * height * 9.81;
}
```
替换后：
```java
double potentialEnergy(double mass, double height) {
    return mass * height * GRAVITATIONAL_CONSTANT;
}
```

## 动机
在计算科学中，魔法数（magic number）是历史最悠久的不良现象之⼀。
所谓魔法数，是指拥有特殊意义，却⼜不能明确表现出这种意义的数字。
如果你需要在不同的地点引⽤同⼀个逻辑数，魔法数会让你烦恼不⼰，因为，⼀旦这些数发⽣改变，你就必须在程序中找到所有魔法数，并将它们全部修改⼀遍，这简直就是⼀场噩梦。 
就算你不需要修改，要准确指出每个魔法数的⽤途，也会让你颇费脑筋。

许多语⾔都允许你声明常量。
常量不会造成任何性能开销，却可以⼤⼤提⾼代 码的可读性。
进⾏本项重构之前，你应该先寻找其他替换⽅案。
你应该观察魔法数如何被使⽤，⽽后，你往往会发现⼀种更好的使⽤⽅式。

如果这个魔法数是个类型码，请考虑使⽤ Replace Type Code with Class（218）；
如果这个魔法数代表⼀个数组的⻓度，请在遍历该数组的时候，改⽤Array.length（）。

做法


-[] 声明⼀个常量，令其值为原本的魔法数值。
-[] 找出这个魔法数的所有引⽤点。
-[] 检查是否可以使⽤这个新声明的常量来替换该魔法数。如果可以，便以此常 量替换之。
-[] 编译。 
-[] 所有魔法数都被替换完毕后，编译并测试。此时整个程序应该运转如常，就像没有做任何修改⼀样。
>有个不错的测试办法：检查现在的程序是否可以被你轻松地修改 常量值
（这可能意味某些预期结果将有所改变，以配合这⼀新值。实际⼯作中，并⾮总是可以进⾏这样的测试）。
 如果可⾏，这就是⼀个不错的⼿法.
