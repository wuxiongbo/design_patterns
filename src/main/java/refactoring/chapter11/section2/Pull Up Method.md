函数上移

# 动机

避免⾏为重复是很重要的。  
尽管重复的两个函数也可以各⾃⼯作得很好，但重复⾃身只会成为错误的滋⽣地，此外别⽆价值。

⽆论何时，只要系统之内出现重复，你就会⾯临“修改其中⼀个却未能修改另⼀个”的⻛险。  
通常，找出重复也有⼀定困难。
如果某个函数在各⼦类中的函数体都相同（它们很可能是通过复制粘贴得到的），这就是最显⽽易⻅的 Pull Up Method （322）适⽤场合。
当然，情况并不总是如此明显。你也可以只管放⼼地重构，再看看测试程序会不会发牢骚，但这就需要对你的测试有充分的信⼼。
我发现，观察这些可能重复的函数之间的差异往往⼤有收获： 它们经常会向我展⽰那些 我忘记测试的⾏为。

Pull Up Method（322）常常紧随其他重构⽽被使⽤。
也许你能找出若⼲个⾝处不同⼦类内的函数，⽽它们又可以通过某种形式的参数调整成为相同的函数。
这时候，最简单的办法就是⾸先分别调整这些函数的参数，然后再将它们概括到超类中。
当然，如果你⾜够⾃信，也可以⼀次完成这两个步骤。

有⼀种特殊情况也需要使⽤ Pull Up Method （322）：  
- ⼦类的函数覆写了超类的函数，但却仍然做相同的⼯作。

